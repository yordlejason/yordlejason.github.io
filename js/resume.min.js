(function($){"use strict";if(typeof $==="undefined"){console.error("jQuery is required for this script to work properly.");return}if(window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1"){console.log("Resume script loaded on production environment");console.log("jQuery version:",$.fn.jquery);console.log("Page loaded at:",(new Date).toISOString())}$('a.js-scroll-trigger[href*="#"]:not([href="#"])').on("click",function(e){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){var target=$(this.hash);target=target.length?target:$("[name="+this.hash.slice(1)+"]");if(target.length){e.preventDefault();$("html, body").animate({scrollTop:target.offset().top},1e3,"easeInOutExpo")}}});$(".js-scroll-trigger").on("click",function(){$(".navbar-collapse").collapse("hide")});if($("#sideNav").length){$("body").scrollspy({target:"#sideNav",offset:100})}function checkScroll(){$(".resume-section").each(function(){var elementTop=$(this).offset().top;var elementBottom=elementTop+$(this).outerHeight();var viewportTop=$(window).scrollTop();var viewportBottom=viewportTop+$(window).height();if(elementBottom>viewportTop&&elementTop<viewportBottom){$(this).addClass("in-view")}})}var scrollTimer=null;$(window).on("scroll",function(){if(scrollTimer){clearTimeout(scrollTimer)}scrollTimer=setTimeout(checkScroll,100)});$(document).ready(function(){checkScroll()});let hoverTimeouts=new Map;function preserveCursorPosition($button,callback){const $container=$button.closest(".collapsible-container");const isEducationSection=$container.closest("#education").length>0;if(isEducationSection){callback();return}const buttonRect=$button[0].getBoundingClientRect();const viewportHeight=$(window).height();if(buttonRect.top<viewportHeight*.5){callback();return}const viewportTop=$(window).scrollTop();const buttonTopAbsolute=buttonRect.top+viewportTop;callback();setTimeout(()=>{const newButtonRect=$button[0].getBoundingClientRect();const newButtonTopAbsolute=newButtonRect.top+$(window).scrollTop();const displacement=newButtonTopAbsolute-buttonTopAbsolute;if(Math.abs(displacement)>5){const currentScroll=$(window).scrollTop();$("html, body").animate({scrollTop:currentScroll+displacement},80)}},30)}$(document).on("click",".visibility-toggle",function(e){e.preventDefault();const $button=$(this);const $icon=$button.find("i");const $details=$button.closest(".collapsible-container").find(".collapsible-details");const isLocked=$button.attr("data-locked")==="true";const containerId=$button.closest(".collapsible-container").index();if(window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1"){console.log("Visibility toggle clicked:",{hasIcon:$icon.length>0,hasDetails:$details.length>0,isLocked:isLocked,containerId:containerId})}if(hoverTimeouts.has(containerId)){clearTimeout(hoverTimeouts.get(containerId));hoverTimeouts.delete(containerId)}if(isLocked){$button.attr("data-locked","false");$button.attr("aria-label","Show details on hover");preserveCursorPosition($button,()=>{if($icon.length>0){$icon.removeClass("fa-lock fa-eye").addClass("fa-eye-slash")}else{$button.find(".fallback-icon").text("👁️")}$details.removeClass("show")});return}$button.attr("data-locked","true");$button.attr("aria-label","Locked - click to unlock");preserveCursorPosition($button,()=>{if($icon.length>0){$icon.removeClass("fa-eye fa-eye-slash").addClass("fa-lock")}else{$button.find(".fallback-icon").text("🔒")}$details.addClass("show")})});$(document).on("click",".content-header",function(e){if($(e.target).closest(".visibility-toggle").length>0||$(e.target).closest(".project-link-button").length>0||$(e.target).closest(".project-title a").length>0){return}e.preventDefault();const $container=$(this).closest(".collapsible-container");const $button=$container.find(".visibility-toggle");const $icon=$button.find("i");const $details=$container.find(".collapsible-details");const isLocked=$button.attr("data-locked")==="true";const containerId=$container.index();console.log("Content header clicked:",{hasButton:$button.length>0,hasIcon:$icon.length>0,hasDetails:$details.length>0,isLocked:isLocked,containerId:containerId});if(hoverTimeouts.has(containerId)){clearTimeout(hoverTimeouts.get(containerId));hoverTimeouts.delete(containerId)}if(isLocked){$button.attr("data-locked","false");$button.attr("aria-label","Show details on hover");preserveCursorPosition($button,()=>{if($icon.length>0){$icon.removeClass("fa-lock fa-eye").addClass("fa-eye-slash")}else{$button.find(".fallback-icon").text("👁️")}$details.removeClass("show")});return}$button.attr("data-locked","true");$button.attr("aria-label","Locked - click to unlock");preserveCursorPosition($button,()=>{if($icon.length>0){$icon.removeClass("fa-eye fa-eye-slash").addClass("fa-lock")}else{$button.find(".fallback-icon").text("🔒")}$details.addClass("show")})});function showDetails($container){const $button=$container.find(".visibility-toggle");const $icon=$button.find("i");const $details=$container.find(".collapsible-details");const isLocked=$button.attr("data-locked")==="true";console.log("showDetails called:",{hasButton:$button.length>0,hasIcon:$icon.length>0,hasDetails:$details.length>0,isLocked:isLocked,currentDetailsClasses:$details.attr("class")});if(!isLocked){preserveCursorPosition($button,()=>{if($icon.length>0){$icon.removeClass("fa-eye-slash").addClass("fa-eye")}else{$button.find(".fallback-icon").text("👀")}$details.addClass("show");console.log("Details should now be visible, classes:",$details.attr("class"))})}}function hideDetailsWithTimeout($container,delay=300){const $button=$container.find(".visibility-toggle");const $icon=$button.find("i");const $details=$container.find(".collapsible-details");const isLocked=$button.attr("data-locked")==="true";const containerId=$container.index();if(!isLocked){if(hoverTimeouts.has(containerId)){clearTimeout(hoverTimeouts.get(containerId))}const timeoutId=setTimeout(function(){if($button.length&&$button.attr("data-locked")!=="true"){preserveCursorPosition($button,()=>{if($icon.length>0){$icon.removeClass("fa-eye").addClass("fa-eye-slash")}else{$button.find(".fallback-icon").text("👁️")}$details.removeClass("show")})}hoverTimeouts.delete(containerId)},delay);hoverTimeouts.set(containerId,timeoutId)}}$(document).on("mouseenter",".content-header",function(){const $container=$(this).closest(".collapsible-container");const $button=$container.find(".visibility-toggle");const isLocked=$button.attr("data-locked")==="true";const containerId=$container.index();console.log("Content header hover detected:",{hasContainer:$container.length>0,hasButton:$button.length>0,isLocked:isLocked,containerId:containerId});if(hoverTimeouts.has(containerId)){clearTimeout(hoverTimeouts.get(containerId));hoverTimeouts.delete(containerId)}showDetails($container);if(!isLocked){$(this).addClass("hovering")}});$(document).on("mouseleave",".content-header",function(){const $container=$(this).closest(".collapsible-container");const $button=$container.find(".visibility-toggle");const isLocked=$button.attr("data-locked")==="true";$(this).removeClass("hovering");hideDetailsWithTimeout($container,400)});$(document).on("mouseenter",".visibility-toggle",function(){const $container=$(this).closest(".collapsible-container");const containerId=$container.index();if(hoverTimeouts.has(containerId)){clearTimeout(hoverTimeouts.get(containerId));hoverTimeouts.delete(containerId)}showDetails($container)});$(document).on("mouseleave",".visibility-toggle",function(){const $container=$(this).closest(".collapsible-container");hideDetailsWithTimeout($container,200)});$(document).ready(function(){$(".visibility-toggle").each(function(){const $button=$(this);const $icon=$button.find("i");const $details=$button.closest(".collapsible-container").find(".collapsible-details");$button.attr("data-locked","false");$button.attr("aria-label","Show details on hover");if($icon.length>0){$icon.removeClass("fa-eye fa-lock").addClass("fa-eye-slash")}else{$button.text("👁️");$button.attr("data-fallback-icon","true")}$details.removeClass("show")});const testIcon=$('<i class="fa fa-eye" style="position: absolute; left: -9999px;"></i>').appendTo("body");const fontFamily=testIcon.css("font-family");testIcon.remove();if(fontFamily.indexOf("FontAwesome")===-1){console.warn("Font Awesome may not be loaded properly. Using fallback icons.");$(".visibility-toggle").each(function(){const $button=$(this);if(!$button.attr("data-fallback-icon")){$button.find("i").remove();$button.append('<span class="fallback-icon">👁️</span>')}})}})})(jQuery);